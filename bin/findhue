#!/bin/sh

# abstract resolution of hue bridge address
function findhue() {
  # rely on local network's DHCP-integrated DNS
  # (but what about when i'm on a vpn?)
  dig philips-hue.h.nuclearice.com A +short

  # use "N-UPNP", relying on bridge's connection to the Mothership
  # curl -s https://discovery.meethue.com/ | jq -r 'map(select(.id == "001788fffe155db4")) | .[].internalipaddress'

  # use huectl
  # huectl addr
}

findhue
